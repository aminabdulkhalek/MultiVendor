<h1 mat-dialog-title class="title">
  Add New Product <button mat-dialog-close class="close">Close</button>
</h1>
<div class="success" *ngIf="success?.message" >{{success?.message}}</div>
<div mat-dialog-content class="content">
  
  <div class="col1">
    <form class="example-form">
      <div class="cont">
        <div class="cola">
          <div *ngIf="errorMessage?.product_name" class="alert">
            {{ errorMessage.product_name }}
          </div>
          <mat-form-field class="example-full-width" appearance="outline">
            <mat-label>Product Name</mat-label>
            <input matInput [(ngModel)]="product_name" name="product_name" />
          </mat-form-field>
          <div *ngIf="errorMessage?.feature1" class="alert">
            {{ errorMessage.feature1 }}
          </div>
          <mat-form-field class="example-full-width" appearance="outline">
            <mat-label>Feature 1</mat-label>
            <input matInput [(ngModel)]="feature1" name="feature1" />
          </mat-form-field>
          <div *ngIf="errorMessage?.feature2" class="alert">
            {{ errorMessage.feature2 }}
          </div>
          <mat-form-field class="example-full-width" appearance="outline">
            <mat-label>Feature 2</mat-label>
            <input matInput [(ngModel)]="feature2" name="feature2" />
          </mat-form-field>
          <div *ngIf="errorMessage?.feature3" class="alert">
            {{ errorMessage.feature3 }}
          </div>
          <mat-form-field class="example-full-width" appearance="outline">
            <mat-label>Feature 3</mat-label>
            <input matInput [(ngModel)]="feature3" name="feature3" />
          </mat-form-field>
          <div *ngIf="errorMessage?.feature4" class="alert">
            {{ errorMessage.feature4 }}
          </div>
          <mat-form-field class="example-full-width" appearance="outline">
            <mat-label>Feature 4</mat-label>
            <input matInput [(ngModel)]="feature4" name="feature4" />
          </mat-form-field>
          <div class="col-6">
            
            <mat-form-field
              appearance="outline"
              class="example-full-width"
              floatLabel="always"
            >
            <div *ngIf="errorMessage?.price" class="alert">
              {{ errorMessage.price }}
            </div>
              <mat-label>Price</mat-label>
              <input
                matInput
                type="number"
                placeholder="0"
                min="0"
                [(ngModel)]="price"
                name="price"
              />
              <span matPrefix>$&nbsp;</span>
            </mat-form-field>
            <mat-form-field
              class="stock"
              appearance="outline"
              floatLabel="always"
            >
              <mat-label>Stock</mat-label>
              <div *ngIf="errorMessage?.stock" class="alert">
                {{ errorMessage.stock }}
              </div>
              <input
                matInput
                type="number"
                placeholder="0"
                min="0"
                [(ngModel)]="stock"
                name="stock"
              />
            </mat-form-field>
          </div>
          <div *ngIf="errorMessage?.category_id" class="alert">
            {{ errorMessage.category_id }}
          </div>
          <mat-form-field class="example-full-width" appearance="outline">
            <mat-label>Select Category</mat-label>

            <mat-select [(value)]="selected_value">
              <mat-option
                *ngFor="let category of categories"
                [value]="category.id"
                >{{ category.category_name }}</mat-option
              >
            </mat-select>
          </mat-form-field>
        </div>
        <div class="colb">
          <div *ngIf="errorMessage?.desc1" class="alert">
            {{ errorMessage.desc1 }}
          </div>
            <mat-form-field class="example-full-width" appearance="outline">
              <mat-label>Description 1</mat-label>
              <textarea
                matInput
                rows="12"
                placeholder="Describe your product the way you like!..."
                [(ngModel)]="desc1"
                name="desc1"
              ></textarea>
            </mat-form-field>
            <div *ngIf="errorMessage?.desc2" class="alert">
              {{ errorMessage.desc2 }}
            </div>
            <mat-form-field class="example-full-width" appearance="outline">
              <mat-label>Description 2</mat-label>
              <textarea
                matInput
                rows="12"
                [(ngModel)]="desc2"
                name="desc2"
              ></textarea>
            </mat-form-field>
          
        </div>
      </div>
    </form>
  </div>
  <div>
    <span class="upload-header">Please Upload 4 Images</span>
    <div class="container" appDnd (fileDropped)="onFileDropped($event)">
      <input
        type="file"
        #fileDropRef
        id="fileDropRef"
        multiple
        (change)="fileBrowseHandler($any($event.target).files)"
      />
      <fa-icon class="image_icon" [icon]="image_icon" size="lg"></fa-icon>
      <h3>Drag and drop file here</h3>
      <h3>or</h3>
      <label for="fileDropRef">Browse for file</label>
    </div>
    <div class="files-list">
      <div class="single-file" *ngFor="let file of files; let i = index">
        <fa-icon [icon]="file_icon" width="45px" size="lg"></fa-icon>
        <div class="info">
          <h4 class="name">
            {{ file?.name }}
          </h4>
          <p class="size">
            {{ formatBytes(file?.size) }}
          </p>
          <app-progress [progress]="file?.progress"></app-progress>
        </div>
        <fa-icon
          class="icon-delete"
          [icon]="delete"
          style="color: #ff5c5c"
          (click)="deleteFile(i)"
        ></fa-icon>
      </div>
    </div>
  </div>
</div>
<div mat-dialog-actions align="end">
  <button mat-dialog class="submit" (click)="submitProduct()">Submit Product</button>
</div>
